(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{414:function(t,v,_){"use strict";_.r(v);var i=_(1),a=Object(i.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"浏览器的缓存机制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的缓存机制"}},[t._v("#")]),t._v(" 浏览器的缓存机制")]),t._v(" "),_("h2",{attrs:{id:"为什么要缓存机制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#为什么要缓存机制"}},[t._v("#")]),t._v(" 为什么要缓存机制")]),t._v(" "),_("ul",[_("li",[t._v("浏览器 -> 网站 -> 加载出页面 （"),_("strong",[t._v("网络请求")]),t._v("，CPU计算，页面渲染）")]),t._v(" "),_("li",[t._v("减少网络请求体积和数量")])]),t._v(" "),_("h2",{attrs:{id:"强缓存"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#强缓存"}},[t._v("#")]),t._v(" 强缓存")]),t._v(" "),_("ul",[_("li",[t._v("浏览器在第一次请求的时候, 会直接下载资源, "),_("strong",[t._v("缓存到本地")]),t._v(", "),_("strong",[t._v("第二次请求的时候直接使用缓存")])])]),t._v(" "),_("h2",{attrs:{id:"协商缓存"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[t._v("#")]),t._v(" 协商缓存")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("第一次请求: 浏览器发送请求，服务器返回"),_("strong",[t._v("资源和资源标识Last-Modified / ETag")])])]),t._v(" "),_("li",[_("p",[t._v("后续请求：浏览器发送请求和"),_("strong",[t._v("资源标识If-Modified-Since / If-None-Match")])]),t._v(" "),_("pre",[_("code",[t._v("    如果不是最新资源，服务器返回200状态码、最新资源和新的资源标识\n    如果是最新资源，服务器返回304状态码，直接从缓存中获取资源\n")])])]),t._v(" "),_("li",[_("p",[t._v("相关设置(服务端告诉客户端)")]),t._v(" "),_("ul",[_("li",[t._v("Expires (什么时候会过期)\n"),_("ul",[_("li",[t._v("必须保证服务端和客户端时间严格同步")])])]),t._v(" "),_("li",[t._v("Cache-control: max-age (多少时间后会过期)\n"),_("ul",[_("li",[t._v("解决了服务端和客户端时间必须同步的问题")])])]),t._v(" "),_("li",[t._v("If-None-Match/ETag (缓存标识)\n"),_("ul",[_("li",[t._v("第一次请求时,服务端返回该标识给客户端, 客户端在第二次请求时会带上该标识与服务端进行对比")])])]),t._v(" "),_("li",[t._v("资源标识 "),_("strong",[t._v("Last-Modified/If-Modified-Since")]),t._v(" "),_("ul",[_("li",[t._v("第一次请求时服务端返回Last-modified: 资源上次的修改时间")]),t._v(" "),_("li",[t._v("第二次请求时客户端带上请求头If-Modified-Since: 资源上次的修改时间")])])]),t._v(" "),_("li",[t._v("资源标识 "),_("strong",[t._v("ETag")]),t._v(" "),_("ul",[_("li",[t._v("资源的唯一字符串")])])])])])])])}),[],!1,null,null,null);v.default=a.exports}}]);